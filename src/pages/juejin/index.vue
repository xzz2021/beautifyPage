<!--
 * @Date: 2023-04-11 14:22:06
 * @LastEditors: xzz
 * @LastEditTime: 2023-04-14 16:50:41
-->
<template>

</template>

<script setup>


    const checkExistClick = (dom) => {
         const hasDom = $(dom)
         hasDom.length && hasDom.trigger('click')

    }

    const checkExistRemove = (dom) => {
         const hasDom = $(dom)
         hasDom.length && hasDom.remove()
    }


// let removeArr = ['.recommend-box' ]
const removeLogins = () => {
    // removeArr.map(item => checkExistRemove(item) )

}

const allowCopy = () => {  //   ä¸€é”®å¤åˆ¶
    $('pre').each(function () {
        let copyBtn = $(this).children('code').children(':last-child')
        copyBtn.text('ä¸€é”®å¤åˆ¶')
        copyBtn.attr('class', 'copy-code-btn-xzz')  //   å¤åˆ¶ä»£ç æŒ‰é’® æ›¿æ¢ç±»å
        copyBtn.on('click', function () {
            let allCode = $(this).parent('code')[0].innerText.replace('\n\nä¸€é”®å¤åˆ¶', '')  //  è·å–åˆ°å½“å‰å—æ‰€æœ‰ä»£ç å†…å®¹
            navigator.clipboard.writeText(allCode)   //   å¤åˆ¶åˆ°å‰ªåˆ‡æ¿
            ElMessage({ message: 'å¤åˆ¶æˆåŠŸ!!!', type: 'success' })
            copyBtn.text("å¤åˆ¶æˆåŠŸ^_^")
            setTimeout(() => { copyBtn.text("ä¸€é”®å¤åˆ¶") }, 2000)
        })
    })
}

onMounted(async() => {
    // removeLogins()  // ç‚¹å‡»ä»¥åŠç§»é™¤åˆå§‹å¼¹çª—
    allowCopy()


    

    function ff(){
    // window.xzz$ = $
    return  '999'
  }
  let res =  await API.injectFn(ff)
  console.log("ğŸš€ ~ file: app.vue:206 ~ test1 ~ res:", res)

})


</script>
<style  lang='scss' scoped>


//   å¤åˆ¶ä»£ç æŒ‰é’® æ›¿æ¢ç±»å
:global(.copy-code-btn-xzz) {
    position: absolute;
    top: 6px;
    right: 15px;
    font-size: 12px;
    line-height: 1;
    cursor: pointer;
    color: hsla(0,0%,54.9%,.8);
    transition: color .1s;
}
:global(.recommend-box){
    display: none;
}
</style>


